FROM php:5.6.40-fpm-alpine
RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories \
&& apk update \
&& apk add zip unzip libjpeg libpng-dev libzip-dev libmcrypt-dev bzip2-dev libxml2-dev libxslt-dev libmemcached-dev\
&& apk add --no-cache --virtual .build-deps autoconf dpkg-dev dpkg file g++ gcc libc-dev make pkgconf re2c \
&& docker-php-ext-install xsl zip soap sockets wddx xmlrpc pdo_mysql mbstring bz2 bcmath calendar gd mcrypt mysql mysqli \
&& pecl install memcached-2.2.0\
&& docker-php-ext-enable memcached \
&& echo 'date.timezone = PRC'> /usr/local/etc/php/conf.d/docker-php-timezone.ini \
&& apk del --no-network .build-deps

EXPOSE 9000
CMD ["php-fpm"]
##</autogenerated>##